<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>halo博客部署 | 狐狸半面添的客栈</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="一个人走走停停，一个逐浪者">
    <meta name="keywords" content="是谢添啊,逐浪者,唐雨浪,博客">
    <meta name="author" content="狐狸半面添">
    
    <link rel="preload" href="/assets/css/0.styles.2a543d4e.css" as="style"><link rel="preload" href="/assets/js/app.c09e4675.js" as="script"><link rel="preload" href="/assets/js/6.fc3f6bd6.js" as="script"><link rel="preload" href="/assets/js/2.93730d8a.js" as="script"><link rel="preload" href="/assets/js/9.aa106b75.js" as="script"><link rel="prefetch" href="/assets/js/10.fa3df413.js"><link rel="prefetch" href="/assets/js/11.2fdbc905.js"><link rel="prefetch" href="/assets/js/12.5ae0a3a2.js"><link rel="prefetch" href="/assets/js/13.09eec28b.js"><link rel="prefetch" href="/assets/js/14.25113caf.js"><link rel="prefetch" href="/assets/js/15.21c8dc65.js"><link rel="prefetch" href="/assets/js/3.f5ef850e.js"><link rel="prefetch" href="/assets/js/4.48758f47.js"><link rel="prefetch" href="/assets/js/5.db012555.js"><link rel="prefetch" href="/assets/js/7.2cbdc2a6.js"><link rel="prefetch" href="/assets/js/8.52f56c10.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2a543d4e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/hero.png" alt="狐狸半面添的客栈" class="logo"> <span class="site-name can-hide">狐狸半面添的客栈</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/about/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  About
</a></div><div class="nav-item"><a href="/foo/" class="nav-link">
  foo
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="喜欢的人啊" class="dropdown-title"><span class="title">喜欢的人啊</span> <span class="arrow down"></span></button> <button type="button" aria-label="喜欢的人啊" class="mobile-dropdown-title"><span class="title">喜欢的人啊</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/About/" class="nav-link">
  唐雨浪
</a></li><li class="dropdown-item"><!----> <a href="/fox/" class="nav-link">
  夜莺
</a></li><li class="dropdown-item"><h4>
          浪浪
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/About.html" class="nav-link">
  小浪浪
</a></li><li class="dropdown-subitem"><a href="/About.html" class="nav-link">
  浪小浪
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/about/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  About
</a></div><div class="nav-item"><a href="/foo/" class="nav-link">
  foo
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="喜欢的人啊" class="dropdown-title"><span class="title">喜欢的人啊</span> <span class="arrow down"></span></button> <button type="button" aria-label="喜欢的人啊" class="mobile-dropdown-title"><span class="title">喜欢的人啊</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/About/" class="nav-link">
  唐雨浪
</a></li><li class="dropdown-item"><!----> <a href="/fox/" class="nav-link">
  夜莺
</a></li><li class="dropdown-item"><h4>
          浪浪
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/About.html" class="nav-link">
  小浪浪
</a></li><li class="dropdown-subitem"><a href="/About.html" class="nav-link">
  浪小浪
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/about/" aria-current="page" class="active sidebar-link">halo博客部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/about/#_1-1-简介" class="sidebar-link">1.1 简介</a></li><li class="sidebar-sub-header"><a href="/about/#_1-2-开源仓库" class="sidebar-link">1.2 开源仓库</a></li><li class="sidebar-sub-header"><a href="/about/#_1-3-中文文档" class="sidebar-link">1.3 中文文档</a></li><li class="sidebar-sub-header"><a href="/about/#_1-4-社区" class="sidebar-link">1.4 社区</a></li><li class="sidebar-sub-header"><a href="/about/#_1-5-官网" class="sidebar-link">1.5 官网</a></li><li class="sidebar-sub-header"><a href="/about/#_1-6-主题仓库" class="sidebar-link">1.6 主题仓库</a></li><li class="sidebar-sub-header"><a href="/about/#_2-1-安装docker" class="sidebar-link">2.1 安装docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/about/#🍀-基于centos的安装" class="sidebar-link">🍀 基于centos的安装</a></li><li class="sidebar-sub-header"><a href="/about/#🍀-基于ubuntu" class="sidebar-link">🍀 基于ubuntu</a></li></ul></li><li class="sidebar-sub-header"><a href="/about/#_2-2-配置国内加速器" class="sidebar-link">2.2 配置国内加速器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/about/#_2-1-1-配置阿里云加速器" class="sidebar-link">2.1.1 配置阿里云加速器</a></li><li class="sidebar-sub-header"><a href="/about/#_2-2-2-配置网易云加速器" class="sidebar-link">2.2.2 配置网易云加速器</a></li></ul></li><li class="sidebar-sub-header"><a href="/about/#_2-3-离线安装docker-compose" class="sidebar-link">2.3 离线安装docker-compose</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/about/#🍀-下载安装包" class="sidebar-link">🍀 下载安装包</a></li><li class="sidebar-sub-header"><a href="/about/#🍀-添加可执行权限" class="sidebar-link">🍀 添加可执行权限</a></li><li class="sidebar-sub-header"><a href="/about/#🍀-测试" class="sidebar-link">🍀 测试</a></li></ul></li><li class="sidebar-sub-header"><a href="/about/#_7-1-插件" class="sidebar-link">7.1 插件</a></li><li class="sidebar-sub-header"><a href="/about/#_7-2-站点基本设置" class="sidebar-link">7.2 站点基本设置</a></li><li class="sidebar-sub-header"><a href="/about/#_7-3-主题设置" class="sidebar-link">7.3 主题设置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/about/#🍀-优质主题下载地址" class="sidebar-link">🍀 优质主题下载地址</a></li><li class="sidebar-sub-header"><a href="/about/#🍀-设置主题" class="sidebar-link">🍀 设置主题</a></li></ul></li><li class="sidebar-sub-header"><a href="/about/#_7-4-允许访客注册" class="sidebar-link">7.4 允许访客注册</a></li></ul></li><li><a href="/about/test2.html" class="sidebar-link">我的测试2</a></li><li><a href="/about/test1.html" class="sidebar-link">我的测试1</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><blockquote><p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403210100551.png" alt="image-20230403210100551"></p> <p>部署一个炫酷的个人博客只需要按照本文的指令直接 <code>cv</code> 即可。</p> <p>但请注意打开服务器防火墙的 <strong>80</strong> 和 <strong>3306</strong> 端口。</p></blockquote> <h1 id="_1-halo简介与地址"><a href="#_1-halo简介与地址" class="header-anchor">#</a> 1.halo简介与地址</h1> <h2 id="_1-1-简介"><a href="#_1-1-简介" class="header-anchor">#</a> 1.1 简介</h2> <p>Halo是一款现代化的开源博客/CMS系统，所有代码开源在GitHub上且处于积极维护状态。它是基于 <code>Java Spring Boot</code> 构建的，易于部署，支持REST API、模板系统、附件系统和评论系统等功能。</p> <p>Halo 作为一款好用又强大的开源建站工具，配合上不同的模板与插件，可以很好地帮助你构建你心中的理想站点。它可以是你公司的官方网站，可以是你的个人博客，也可以是团队共享的知识库，甚至可以是一个论坛、一个商城。</p> <h2 id="_1-2-开源仓库"><a href="#_1-2-开源仓库" class="header-anchor">#</a> 1.2 开源仓库</h2> <p>🏠 github： <a href="https://github.com/halo-dev/halo" target="_blank" rel="noopener noreferrer">halo-dev/halo: 强大易用的开源建站工具。 (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>🏠 gitee：<a href="https://gitee.com/halo-dev/halo" target="_blank" rel="noopener noreferrer">halo: 强大易用的开源建站工具。 (gitee.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_1-3-中文文档"><a href="#_1-3-中文文档" class="header-anchor">#</a> 1.3 中文文档</h2> <p>🏠 <a href="https://docs.halo.run/" target="_blank" rel="noopener noreferrer">Halo Documents<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_1-4-社区"><a href="#_1-4-社区" class="header-anchor">#</a> 1.4 社区</h2> <p>🏠 <a href="https://bbs.halo.run/" target="_blank" rel="noopener noreferrer">Halo 社区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_1-5-官网"><a href="#_1-5-官网" class="header-anchor">#</a> 1.5 官网</h2> <p>🏠  <a href="https://halo.run/" target="_blank" rel="noopener noreferrer">Halo 建站 - 强大易用的开源建站工具<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_1-6-主题仓库"><a href="#_1-6-主题仓库" class="header-anchor">#</a> 1.6 主题仓库</h2> <p>🏠 <a href="https://halo.run/themes" target="_blank" rel="noopener noreferrer">主题仓库 | Halo 建站 - 强大易用的开源建站工具<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="_2-安装docker与docker-compose"><a href="#_2-安装docker与docker-compose" class="header-anchor">#</a> 2.安装docker与docker-compose</h1> <h2 id="_2-1-安装docker"><a href="#_2-1-安装docker" class="header-anchor">#</a> 2.1 安装docker</h2> <h3 id="🍀-基于centos的安装"><a href="#🍀-基于centos的安装" class="header-anchor">#</a> 🍀 基于centos的安装</h3> <ol><li><p>安装yum-utils</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>从国内服务器上下载docker</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>安装docker</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>验证是否成功</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">docker</span> <span class="token parameter variable">--version</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h3 id="🍀-基于ubuntu"><a href="#🍀-基于ubuntu" class="header-anchor">#</a> 🍀 基于ubuntu</h3> <ol><li><p>安装需要的包</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>安装依赖包</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token punctuation">\</span>
   apt-transport-https <span class="token punctuation">\</span>
   ca-certificates <span class="token punctuation">\</span>
   <span class="token function">curl</span> <span class="token punctuation">\</span>
   gnupg-agent <span class="token punctuation">\</span>
   software-properties-common
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>添加 阿里 GPG 密钥</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>设置远程仓库</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> add-apt-repository <span class="token punctuation">\</span>
   <span class="token string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
  <span class="token variable"><span class="token variable">$(</span>lsb_release <span class="token parameter variable">-cs</span><span class="token variable">)</span></span> \
  stable&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>安装 Docker-CE</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>验证是否成功</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">docker</span> <span class="token parameter variable">--version</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="_2-2-配置国内加速器"><a href="#_2-2-配置国内加速器" class="header-anchor">#</a> 2.2 配置国内加速器</h2> <p>国内镜像中心常用的为阿里云与网易云，<font color="red">选择其中一个加速器进行配置即可</font>。在本地 Docker 中指定要使用的国内加速器地址后，就可以直接从国内镜像中心下载镜像了。</p> <h3 id="_2-1-1-配置阿里云加速器"><a href="#_2-1-1-配置阿里云加速器" class="header-anchor">#</a> 2.1.1 配置阿里云加速器</h3> <h4 id="🍀-找到相应页面"><a href="#🍀-找到相应页面" class="header-anchor">#</a> 🍀 找到相应页面</h4> <p>若要配置阿里云加速器，必须首先要有阿里云的账号。登录阿里云后，打开阿里云的容器镜像服务页面 https://cr.console.aliyun.com ，然后找到如下页面，可以查看到你的 <code>registry-mirrors</code></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403005624117-1680494706927-1.png" alt="image-20230403005624117"></p> <h4 id="🍀-创建-docker-目录"><a href="#🍀-创建-docker-目录" class="header-anchor">#</a> 🍀 创建 docker 目录</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="🍀-创建-daemon-json-文件"><a href="#🍀-创建-daemon-json-文件" class="header-anchor">#</a> 🍀  创建 daemon.json 文件</h4> <p>注意，该 json 数据中的 URL 地址是与用户登录账号绑定的，不同的用户所生成的地址是不同的。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/docker/daemon.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;registry-mirrors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;https://******.mirror.aliyuncs.com&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="🍀-重新加载服务配置文件"><a href="#🍀-重新加载服务配置文件" class="header-anchor">#</a> 🍀 重新加载服务配置文件</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> systemctl daemon-reload
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="🍀-重启-docker-引擎"><a href="#🍀-重启-docker-引擎" class="header-anchor">#</a> 🍀 重启 docker 引擎</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2-2-2-配置网易云加速器"><a href="#_2-2-2-配置网易云加速器" class="header-anchor">#</a> 2.2.2 配置网易云加速器</h3> <p>配置网易云加速器，无需注册网易云用户。只需将前面的 daemon.json 文件中的那个URL 替换为如下 URL 即可。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;registry-mirrors&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http://hub-mirror.c.163.com&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当然，替换过后，仍需重新加载服务配置文件，重启 docker 引擎。</p> <h2 id="_2-3-离线安装docker-compose"><a href="#_2-3-离线安装docker-compose" class="header-anchor">#</a> 2.3 离线安装docker-compose</h2> <h3 id="🍀-下载安装包"><a href="#🍀-下载安装包" class="header-anchor">#</a> 🍀 下载安装包</h3> <p>🏠 所有版本预览：<a href="https://github.com/docker/compose/releases/" target="_blank" rel="noopener noreferrer">Releases · docker/compose (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>选择一个版本：</p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230328103210297-1680454211141-1-1680494706927-3.png" alt="image-20230328103210297"></p> <p>进入后往下拉，选择对应版本：</p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230328103251367-1680454211141-2-1680494706927-5.png" alt="image-20230328103251367"></p> <p>将文件上传到linux后，移动到与环境变量相关的指定位置：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mv</span> docker-compose-linux-x86_64 /usr/local/bin/docker-compose
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="🍀-添加可执行权限"><a href="#🍀-添加可执行权限" class="header-anchor">#</a> 🍀 添加可执行权限</h3> <p>为 docker-compose 文件添加可执行权限。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="🍀-测试"><a href="#🍀-测试" class="header-anchor">#</a> 🍀 测试</h3> <p>通过 docker-compose version 测试安装是否成功。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">docker-compose</span> version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="_3-nginx反向代理配置"><a href="#_3-nginx反向代理配置" class="header-anchor">#</a> 3.nginx反向代理配置</h1> <p>在系统任意位置创建一个 halo 文件夹，并创建多级目录</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /halo/nginx/conf/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>编写Nginx配置文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">vim</span> /halo/nginx/conf/nginx.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token comment">#user  root;</span>
<span class="token directive"><span class="token keyword">error_log</span>  /var/log/nginx/error.log notice</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">worker_processes</span>  <span class="token number">1</span></span><span class="token punctuation">;</span>

<span class="token directive"><span class="token keyword">pid</span>        /var/run/nginx.pid</span><span class="token punctuation">;</span>

<span class="token directive"><span class="token keyword">events</span></span> <span class="token punctuation">{</span>
  <span class="token directive"><span class="token keyword">worker_connections</span>  <span class="token number">1024</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">http</span></span> <span class="token punctuation">{</span>
  <span class="token directive"><span class="token keyword">include</span>       mime.types</span><span class="token punctuation">;</span>
  <span class="token directive"><span class="token keyword">default_type</span>  application/octet-stream</span><span class="token punctuation">;</span>
  <span class="token directive"><span class="token keyword">sendfile</span>        <span class="token boolean">on</span></span><span class="token punctuation">;</span>
  <span class="token directive"><span class="token keyword">keepalive_timeout</span>  <span class="token number">65</span></span><span class="token punctuation">;</span>
  <span class="token comment"># 设置上传文件的最大值</span>
  <span class="token directive"><span class="token keyword">client_max_body_size</span> <span class="token number">256m</span></span><span class="token punctuation">;</span>
  
  <span class="token directive"><span class="token keyword">upstream</span> blog</span> <span class="token punctuation">{</span>
    <span class="token comment"># 使用容器服务名</span>
	<span class="token directive"><span class="token keyword">server</span> halo:8090</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
    
  <span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
      <span class="token directive"><span class="token keyword">listen</span>       <span class="token number">80</span></span><span class="token punctuation">;</span>
      <span class="token comment"># 可进行域名绑定</span>
      <span class="token directive"><span class="token keyword">server_name</span>  localhost</span><span class="token punctuation">;</span>
      <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
          <span class="token comment"># 设置反向代理的地址（实际是请求转发）</span>
          <span class="token directive"><span class="token keyword">proxy_pass</span> http://blog</span><span class="token punctuation">;</span>
          <span class="token comment"># 设置HTTP请求头</span>
          <span class="token directive"><span class="token keyword">proxy_set_header</span> HOST <span class="token variable">$host</span></span><span class="token punctuation">;</span>
          <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-Proto <span class="token variable">$scheme</span></span><span class="token punctuation">;</span>
          <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Real-IP <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span>
          <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token directive"><span class="token keyword">error_page</span>   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  /50x.html</span><span class="token punctuation">;</span>
      <span class="token directive"><span class="token keyword">location</span> = /50x.html</span> <span class="token punctuation">{</span>
          <span class="token directive"><span class="token keyword">root</span>   html</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h1 id="_4-docker-compose部署halo-mysql-nginx"><a href="#_4-docker-compose部署halo-mysql-nginx" class="header-anchor">#</a> 4.Docker-compose部署halo,mysql,nginx</h1> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">vim</span> /halo/compose.yaml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>1️⃣ <font color="blue">您必须修改的自定义配置，找到下面的参数所在位置修改：</font></p> <p>服务器或虚拟机ip：<code>halo.external-url</code> 中的 ip 设置，我写的配置中是 <strong>8.130.97.145</strong>，需要修改为你自己的服务器ip地址。</p> <p>2️⃣ <font color="blue">您可选修改的自定义配置，找到下面的参数所在位置修改：</font></p> <ol><li>超级管理员账号密码
<ul><li>账号 <code>halo.security.initializer.superadminusername</code>，我写的配置中是 admin</li> <li>密码 <code>halo.security.initializer.superadminpassword</code> ，我写的配置中是 123456</li></ul></li> <li>mysql的root用户密码，以下两个参数的值都需要修改且必须保持一致
<ul><li><code>spring.r2dbc.password</code>，我写的配置中是 123456</li> <li><code>MYSQL_ROOT_PASSWORD</code>，我写的配置中是 123456</li></ul></li></ol> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">halo</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> halohub/halo<span class="token punctuation">:</span>2.4.0
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> halo
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> on<span class="token punctuation">-</span>failure<span class="token punctuation">:</span><span class="token number">3</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token key atrule">halodb</span><span class="token punctuation">:</span>
        <span class="token key atrule">condition</span><span class="token punctuation">:</span> service_healthy
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token key atrule">halo_network</span><span class="token punctuation">:</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./halo<span class="token punctuation">:</span>/root/.halo2
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8090:8090&quot;</span>
    <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
      <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;CMD&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;curl&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost:8090/actuator/health/readiness&quot;</span><span class="token punctuation">]</span>
      <span class="token key atrule">interval</span><span class="token punctuation">:</span> 30s
      <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 5s
      <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">5</span>
      <span class="token key atrule">start_period</span><span class="token punctuation">:</span> 30s
    <span class="token key atrule">command</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>spring.r2dbc.url=r2dbc<span class="token punctuation">:</span>pool<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//halodb<span class="token punctuation">:</span>3306/halo
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>spring.r2dbc.username=root
      <span class="token comment"># MySQL 的密码，请保证与下方 MYSQL_ROOT_PASSWORD 的变量值一致。</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>spring.r2dbc.password=123456
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>spring.sql.init.platform=mysql
      <span class="token comment"># 外部访问地址，我的服务器 ip 为8.130.97.145，此处需要修改为你自己的服务器或虚拟机 ip</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>halo.external<span class="token punctuation">-</span>url=http<span class="token punctuation">:</span>//8.130.97.145<span class="token punctuation">:</span>80/
      <span class="token comment"># 初始化的超级管理员用户名</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>halo.security.initializer.superadminusername=admin
      <span class="token comment"># 初始化的超级管理员密码</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>halo.security.initializer.superadminpassword=123456

  <span class="token key atrule">halodb</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span>8.0.31
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> halodb
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> on<span class="token punctuation">-</span>failure<span class="token punctuation">:</span><span class="token number">3</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token key atrule">halo_network</span><span class="token punctuation">:</span>
    <span class="token key atrule">command</span><span class="token punctuation">:</span> 
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>default<span class="token punctuation">-</span>authentication<span class="token punctuation">-</span>plugin=mysql_native_password
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>character<span class="token punctuation">-</span>set<span class="token punctuation">-</span>server=utf8mb4
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>collation<span class="token punctuation">-</span>server=utf8mb4_general_ci
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>explicit_defaults_for_timestamp=true
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./mysql<span class="token punctuation">:</span>/var/lib/mysql
      <span class="token punctuation">-</span> ./mysqlBackup<span class="token punctuation">:</span>/data/mysqlBackup
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;3306:3306&quot;</span>
    <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
      <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;CMD&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mysqladmin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ping&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-h&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--silent&quot;</span><span class="token punctuation">]</span>
      <span class="token key atrule">interval</span><span class="token punctuation">:</span> 3s
      <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">5</span>
      <span class="token key atrule">start_period</span><span class="token punctuation">:</span> 30s
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token comment"># 请修改此密码，并对应修改上方 Halo 服务的 SPRING_R2DBC_PASSWORD 变量值</span>
      <span class="token punctuation">-</span> MYSQL_ROOT_PASSWORD=123456
      <span class="token punctuation">-</span> MYSQL_DATABASE=halo

  <span class="token key atrule">halonginx</span><span class="token punctuation">:</span> <span class="token comment"># 服务名称，用户自定义</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>1.23.4  <span class="token comment"># 镜像版本</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> halonginx
    <span class="token comment"># 链接到其它容器，能在 nginx.conf 反向代理配置时使用</span>
    <span class="token key atrule">links</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> halo
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token key atrule">halo_network</span><span class="token punctuation">:</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token datetime number">80:80</span>  <span class="token comment"># 暴露端口</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span> <span class="token comment"># 挂载</span>
      <span class="token punctuation">-</span> /halo/nginx/conf/nginx.conf<span class="token punctuation">:</span>/etc/nginx/nginx.conf
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># 这个必须要，解决nginx的文件调用的权限问题</span>
    
<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">halo_network</span><span class="token punctuation">:</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><h1 id="_5-容器编排"><a href="#_5-容器编排" class="header-anchor">#</a> 5.容器编排</h1> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 1.进入 halo 目录</span>
<span class="token builtin class-name">cd</span> /halo

<span class="token comment"># 2.容器编排</span>
<span class="token function">sudo</span> <span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>查看状态：<code>sudo docker ps</code></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403140109540.png" alt="image-20230403140109540"></p> <h1 id="_6-访问测试"><a href="#_6-访问测试" class="header-anchor">#</a> 6.访问测试</h1> <p>🏠 访问：<font color="green">http://【服务器或虚拟机ip】</font></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403140238144.png" alt="image-20230403140238144"></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403140356496.png" alt="image-20230403140356496"></p> <blockquote><p>点击登录，如果遇到红色报错不用管。</p></blockquote> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403142541970.png" alt="image-20230403142541970"></p> <h1 id="_7-基础操作"><a href="#_7-基础操作" class="header-anchor">#</a> 7.基础操作</h1> <blockquote><p>这里只列举部分操作，更多使用可以自己去实践操作或者参考 <a href="https://docs.halo.run/category/%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97" target="_blank" rel="noopener noreferrer">用户指南 | Halo Documents<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="_7-1-插件"><a href="#_7-1-插件" class="header-anchor">#</a> 7.1 插件</h2> <p>这里演示图床插件：</p> <p>🏠 插件包下载地址：<a href="https://github.com/halo-sigs/plugin-s3" target="_blank" rel="noopener noreferrer">halo-sigs/plugin-s3: 为 Halo 提供 S3 对象存储协议的存储策略 (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403172625378-1680514130671-10.png" alt="image-20230403172625378"></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403172716630.png" alt="image-20230403172716630"></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403172744416.png" alt="image-20230403172744416"></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403172822009.png" alt="image-20230403172822009"></p> <p>创建新的存储策略，但这里会导致页面卡死，原因是<strong>halo2.4版本不适配该插件</strong>，这个问题 <code>plugin-s3</code> 插件的制作者们已经在修复中了（当前为 2023/04/03）</p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403173030704.png" alt="image-20230403173030704"></p> <h2 id="_7-2-站点基本设置"><a href="#_7-2-站点基本设置" class="header-anchor">#</a> 7.2 站点基本设置</h2> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403180749408.png" alt="image-20230403180749408"></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403180849175.png" alt="image-20230403180849175"></p> <h2 id="_7-3-主题设置"><a href="#_7-3-主题设置" class="header-anchor">#</a> 7.3 主题设置</h2> <h3 id="🍀-优质主题下载地址"><a href="#🍀-优质主题下载地址" class="header-anchor">#</a> 🍀 优质主题下载地址</h3> <blockquote><p>注意直接下载 .zip 文件即可，无需对其解压。</p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403161449567.png" alt="image-20230403161449567"></p></blockquote> <ul><li><p><code>sakura</code>：<a href="https://github.com/LIlGG/halo-theme-sakura" target="_blank" rel="noopener noreferrer">LIlGG/halo-theme-sakura: Halo 版本的樱花🌸主题 (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><code>xue</code>：<a href="https://github.com/xzhuz/halo-theme-xue" target="_blank" rel="noopener noreferrer">xzhuz/halo-theme-xue: 追求个性与至简 (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>注意，这个主题的 master 主分支暂不可用（不知为什么），但可以使用 next 子分支。</p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403162105819.png" alt="image-20230403162105819"></p></blockquote></li> <li><p><code>dream</code>：<a href="https://github.com/nineya/halo-theme-dream2.0" target="_blank" rel="noopener noreferrer">nineya/halo-theme-dream2.0: 适配halo2.x的dream主题 (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><code>butterfly</code>：<a href="https://github.com/dhjddcn/halo-theme-butterfly" target="_blank" rel="noopener noreferrer">dhjddcn/halo-theme-butterfly: 一个Halo博客主题，Butterfly 🦋 (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>注意要选择 next 分支。</p></blockquote></li> <li><p><code>joe</code>：<a href="https://github.com/qinhua/halo-theme-joe2.0" target="_blank" rel="noopener noreferrer">qinhua/halo-theme-joe2.0: 🌈 一款 Halo 博客主题 Joe2.0 (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h3 id="🍀-设置主题"><a href="#🍀-设置主题" class="header-anchor">#</a> 🍀 设置主题</h3> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403145648463.png" alt="image-20230403145648463"></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403164809346.png" alt="image-20230403164809346"></p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403164840024.png" alt="image-20230403164840024"></p> <p>主页效果：</p> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403164922934.png" alt="image-20230403164922934"></p> <p>至于更多设置直接去主题管理下调试即可。</p> <h2 id="_7-4-允许访客注册"><a href="#_7-4-允许访客注册" class="header-anchor">#</a> 7.4 允许访客注册</h2> <p><img src="https://sangxin-tian.oss-cn-nanjing.aliyuncs.com/image/image-20230403173952956.png" alt="image-20230403173952956"></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2023/07/22 凌晨 12:44</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/about/test2.html">
        我的测试2
      </a>
      →
    </span></p></div>  <!----></main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c09e4675.js" defer></script><script src="/assets/js/6.fc3f6bd6.js" defer></script><script src="/assets/js/2.93730d8a.js" defer></script><script src="/assets/js/9.aa106b75.js" defer></script>
  </body>
</html>
